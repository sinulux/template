/*! nice Validator 0.8.0
 * (c) 2012-2014 Jony Zhang <zj86@live.cn>, MIT Licensed
 * http://niceue.com/validator/
 * modiy by xiangsl 增加popfloat四种主题提示
/*jshint evil:true*/
(function(a){if("function"===typeof define&&(define.amd||define.cmd)){define([],function(){return a})}else{a(jQuery)}}(function(H,p){var M="validator",B="."+M,i=".rule",I=".field",V=".form",R="nice-"+M,f="msg-box",ab="aria-required",w="aria-invalid",h="data-rule",s="data-msg",L="data-tip",S="data-ok",D="data-timely",X="data-target",G="data-must",o="novalidate",k=":verifiable",Q=/(!?)\s?(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?\s*(;|\||&)?/g,F=/(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?/,x=/(?:([^:;\(\[]*):)?(.*)/,d=/[^\x00-\xff]/g,g=/^.*(top|right|bottom|left).*$/,ac=/(?:(post|get):)?(.+)/i,N=/[<>'"]|(?:&#)(?:0*\d{2,3}|x[A-Z0-9]{2};)|%[A-Z0-9]{2}/gmi,Y=H.noop,T=H.proxy,a=H.trim,v=H.isFunction,m=function(ad){return typeof ad==="string"},P=function(ad){return ad&&Object.prototype.toString.call(ad)==="[object Object]"},l=document.documentMode||+(navigator.userAgent.match(/MSIE (\d+)/)&&RegExp.$1),u=function(ae,ad,af){if(af!==p){if(af===null){ae.removeAttribute(ad)}else{ae.setAttribute(ad,""+af)}}else{return ae.getAttribute(ad)}},E=function(ad){return H(ad).val()},A=window.console||{log:Y,info:Y},j,W,n={},K={debug:0,timely:1,theme:"default",ignore:"",focusInvalid:true,beforeSubmit:Y,validClass:"n-valid",invalidClass:"n-invalid",msgWrapper:"span",msgMaker:function(ae){var ad;ad='<span class="msg-wrap n-'+ae.type+'" role="alert">';ad+=ae.icon+'<span class="n-msg">'+ae.msg+"</span>";ad+="</span>";return ad},msgIcon:'<span class="n-icon"></span>',msgClass:"",defaultMsg:"This field is not valid.",loadingMsg:"Validating..."},c={"default":{formClass:"n-default",msgClass:"n-right"}};H.fn[M]=function(ae){var af=this,ad=arguments;if(af.is(":input")){return af}!af.is("form")&&(af=this.find("form"));!af.length&&(af=this);af.each(function(){var ag=H(this).data(M);if(ag){if(m(ae)){if(ae.charAt(0)==="_"){return}ag[ae].apply(ag,Array.prototype.slice.call(ad,1))}else{if(ae){ag._reset(true);ag._init(this,ae)}}}else{new r(this,ae)}});return this};H.fn.isValid=function(ai,ah){var af=O(this[0]),ag=v(ai),ad,ae;if(!af){return true}af.checkOnly=!!ah;ae=af.options;ad=af._multiValidate(this.is(":input")?this:this.find(k),function(aj){if(!aj&&ae.focusInvalid&&!af.checkOnly){af.$el.find("["+w+"]:input:first").focus()}ag&&ai.call(null,aj);af.checkOnly=false});return ag?this:ad};H.expr[":"].verifiable=function(ae){var ad=ae.nodeName.toLowerCase();return(ad==="input"&&!({submit:1,button:1,reset:1,image:1})[ae.type]||ad==="select"||ad==="textarea")&&ae.disabled===false};H.expr[":"].filled=function(ad){return !!a(E(ad))};function r(ae,ad){var af=this;if(!(af instanceof r)){return new r(ae,ad)}af.$el=H(ae);if(af.$el.length){af._init(af.$el[0],ad)}else{if(m(ae)){n[ae]=ad}}}r.prototype={_init:function(ag,ad){var ah=this,af,ai,aj;if(v(ad)){ad={valid:ad}}ad=ad||{};aj=u(ag,"data-"+M+"-option");aj=aj&&aj.charAt(0)==="{"?(new Function("return "+aj))():{};ai=c[ad.theme||aj.theme||K.theme];af=ah.options=H.extend({},K,ai,ah.options,ad,aj);ah.rules=new Z(af.rules,true);ah.messages=new U(af.messages,true);ah.elements=ah.elements||{};ah.deferred={};ah.errors={};ah.fields={};ah._initFields(af.fields);ah.msgOpt={type:"error",pos:z(af.msgClass),wrapper:af.msgWrapper,cls:af.msgClass,style:af.msgStyle,icon:af.msgIcon,show:af.msgShow,hide:af.msgHide};if(m(af.target)){ah.$el.find(af.target).addClass("msg-container")}ah.isAjaxSubmit=false;if(af.valid){ah.isAjaxSubmit=true}else{var ae=(H._data||H.data)(ag,"events");if(ae&&ae.valid&&H.map(ae.valid,function(ak){return ~ak.namespace.indexOf("form")?1:null}).length){ah.isAjaxSubmit=true}}if(!ah.$el.data(M)){ah.$el.data(M,ah).addClass(R+" "+af.formClass).on("submit"+B+" validate"+B,T(ah,"_submit")).on("reset"+B,T(ah,"_reset")).on("showmsg"+B,T(ah,"_showmsg")).on("hidemsg"+B,T(ah,"_hidemsg")).on("focusin"+B+" click"+B,k,T(ah,"_focusin")).on("focusout"+B+" validate"+B,k,T(ah,"_focusout"));if(af.timely!==0){ah.$el.on("keyup"+B+" input"+B,k,T(ah,"_focusout")).on("click"+B,":radio,:checkbox","click",T(ah,"_focusout")).on("change"+B,'select,input[type="file"]',"change",T(ah,"_focusout"))}ah._novalidate=u(ag,o);u(ag,o,o)}},_initFields:function(ae){var af=this,ad=ae===null;if(ad){ae=af.fields}if(P(ae)){H.each(ae,function(ah,ag){if(ag===null||ad){var ai=af.elements[ah];if(ai){af._resetElement(ai,true)}delete af.fields[ah]}else{af.fields[ah]=m(ag)?{rule:ag}:ag}})}af.$el.find(k).each(function(){af._parse(this)})},_parse:function(af){var ag=this,ah,ad=af.name,ae=u(af,h);ae&&u(af,h,null);if(af.id&&("#"+af.id in ag.fields)||!af.name){ad="#"+af.id}if(!ad){return}ah=ag.fields[ad]||{};ah.key=ad;ah.old={};ah.rule=ah.rule||ae||"";if(!ah.rule){return}if(u(af,G)!==null||/match\(|checked/.test(ah.rule)){ah.must=true}if(~ah.rule.indexOf("required")){ah.required=true;u(af,ab,true)}if(!("showOk" in ah)){ah.showOk=ag.options.showOk}if("timely" in ah){u(af,D,+ah.timely)
}if(m(ah.target)){u(af,X,ah.target)}if(m(ah.tip)){u(af,L,ah.tip)}ag.fields[ad]=ag._parseRule(ah)},_parseRule:function(af){var ad=x.exec(af.rule),ae=this.options;if(!ad){return}af._i=0;if(ad[1]){af.display=ad[1]}if(!af.display&&ae.display){af.display=ae.display}if(ad[2]){af.rules=[];ad[2].replace(Q,function(){var ag=arguments;ag[3]=ag[3]||ag[4];af.rules.push({not:ag[1]==="!",method:ag[2],params:ag[3]?H.map(ag[3].split(", "),function(ah){return a(ah)}):p,or:ag[5]==="|"})})}return af},_multiValidate:function(af,ad){var ag=this,ae=ag.options;ag.isValid=true;if(ae.ignore){af=af.not(ae.ignore)}af.each(function(ah,ai){var aj=ag.getField(ai);if(aj){ag._validate(ai,aj);if(!ag.isValid&&ae.stopOnError){return false}}});if(ad){ag.verifying=true;H.when.apply(null,H.map(ag.deferred,function(ah){return ah})).done(function(){ad.call(ag,ag.isValid);ag.verifying=false})}return !H.isEmptyObject(ag.deferred)?p:ag.isValid},_submit:function(ag){var af=this,ad=af.options,ae=ag.target,ah=ag.type==="submit";ag.preventDefault();if(W&&!!~(W=false)||af.submiting||ag.type==="validate"&&af.$el[0]!==ae||ad.beforeSubmit.call(af,ae)===false){return}ad.debug&&A.log("\n"+ag.type);af._reset();af.submiting=true;af._multiValidate(af.$el.find(k),function(aj){var ai=(aj||ad.debug===2)?"valid":"invalid",ak;if(!aj){if(ad.focusInvalid){af.$el.find("["+w+'="true"]:input:first').focus()}ak=H.map(af.errors,function(al){return al})}af.submiting=false;v(ad[ai])&&ad[ai].call(af,ae,ak);af.$el.trigger(ai+V,[ae,ak]);if(aj&&!af.isAjaxSubmit&&ah){W=true;if(j&&j.name){af.$el.append('<input type="hidden" name="'+j.name+'" value="'+H(j).val()+'">')}ae.submit()}})},_reset:function(ae){var ad=this;ad.errors={};if(ae){ad.reseting=true;ad.$el.find(k).each(function(af,ag){ad._resetElement(ag)});delete ad.reseting}},_resetElement:function(af,ae){var ad=this.options;H(af).removeClass(ad.validClass+" "+ad.invalidClass);this.hideMsg(af);if(ae){u(af,ab,null)}},_focusin:function(ag){var af=this,ad=af.options,ae=ag.target,ah;if(af.verifying){return}if(ad.focusCleanup){if(u(ae,w)==="true"){H(ae).removeClass(ad.invalidClass);af.hideMsg(ae)}}ah=u(ae,L);if(!ah){return}af.showMsg(ae,{type:"tip",msg:ah})},_focusout:function(aj,ah){var al=this,af=al.options,an,ag=aj.target,aq=aj.type,ao=E(ag),ak=aq==="validate",ai,ap,am,ae,ad=0;if(!ah&&C(ag)){ah=al.$el.find('input[name="'+ag.name+'"]').get(0)}ae=u(ah||ag,D);ae=ae!==null?+ae:+af.timely;if(!ak){if(ae===0){return}if(aq==="focusout"){if(ae===2){if(!af.focusCleanup){an=al.getField(ag);if(an&&an.old.ret){al._makeMsg(ag,an,an.old.ret)}}return}}else{if(ae<2&&!aj.data){return}ai=+new Date();if(ai-(ag._ts||0)<100){return}ag._ts=ai;if(aq==="keyup"){ap=aj.keyCode;am={8:1,9:1,16:1,32:1,46:1};if(ap===9&&!ao){return}if(ap<48&&!am[ap]){return}}ad=ae>=100?ae:400}}if(af.ignore&&H(ag).is(af.ignore)){return}an=al.getField(ag);if(!an){return}clearTimeout(an._t);if(af.ignoreBlank&&!ao){al.hideMsg(ag)}else{if(ad){an._t=setTimeout(function(){al._validate(ag,an)},ad)}else{if(ak){an.old={}}al._validate(ag,an)}}},_showmsg:function(ag,ae,ah){var af=this,ad=ag.target;if(H(ad).is(":input")){af.showMsg(ad,{type:ae,msg:ah})}else{if(ae==="tip"){af.$el.find(k+"["+L+"]",ad).each(function(){af.showMsg(this,{type:ae,msg:ah})})}}},_hidemsg:function(ae){var ad=H(ae.target);if(ad.is(":input")){this.hideMsg(ad)}},_validatedField:function(af,ai,ad){var ag=this,ae=ag.options,ah=ad.isValid=ai.isValid=!!ad.isValid,aj=ah?"valid":"invalid";ad.key=ai.key;ad.rule=ai._r;if(ah){ad.type="ok"}else{if(ag.submiting){ag.errors[ai.key]=ad.msg}ag.isValid=false}ag.elements[ai.key]=ad.element=af;ag.$el[0].isValid=ah?ag.isFormValid():ah;ai.old.value=E(af);ai.old.id=af.id;ai.old.ret=ad;v(ai[aj])&&ai[aj].call(ag,af,ad);v(ae.validation)&&ae.validation.call(ag,af,ad);H(af).attr(w,ah?null:true).removeClass(ah?ae.invalidClass:ae.validClass).addClass(!ad.skip?ah?ae.validClass:ae.invalidClass:"").trigger(aj+I,[ad,ag]);ag.$el.triggerHandler("validation",[ad,ag]);if(ag.checkOnly){return}ag._makeMsg.apply(ag,arguments)},_makeMsg:function(ae,af,ad){if(af.msgMaker||this.options.msgMaker){this[ad.showOk||ad.msg?"showMsg":"hideMsg"](ae,ad,af)}},_validatedRule:function(af,am,ai,ak){am=am||aj.getField(af);ak=ak||{};var aj=this,ae=aj.options,ag,al,ad=am._r,ah,an,ao=false;if(ai===null){aj._validatedField(af,am,{isValid:true,skip:true});return}else{if(ai===p){ah=true}else{if(ai===true||ai===""){ao=true}else{if(m(ai)){ag=ai}else{if(P(ai)){if(ai.error){ag=ai.error}else{ag=ai.ok;ao=true}}}}}}al=am.rules[am._i];if(al.not){ag=p;ao=ad==="required"||!ao}if(al.or){if(ao){while(am._i<am.rules.length&&am.rules[am._i].or){am._i++}}else{ah=true}}if(ah){ao=true}else{if(ao){if(am.showOk!==false){an=u(af,S);ag=an===null?m(am.ok)?am.ok:ag:an;if(!m(ag)&&m(am.showOk)){ag=am.showOk}if(m(ag)){ak.showOk=ao;ak.msg=ag}}H(af).trigger("valid"+i,[ad,ag])}else{ak.msg=(q(af,am,ag||aj.messages[ad])||K.defaultMsg).replace("{0}",aj._getDisplay(af,am.display||""));H(af).trigger("invalid"+i,[ad,ak.msg])}}ak.isValid=ao;if(ae.debug){A.log("   "+am._i+": "+ad+" => "+(ao||ak.msg))
}if(ao&&am._i<am.rules.length-1){am._i++;aj._checkRule(af,am)}else{am._i=0;aj._validatedField(af,am,ak)}},_checkRule:function(ae,ak){var ai=this,ah,af,am=ak.key,aj=ak.rules[ak._i],ad=aj.method,al=E(ae),ag=aj.params;if(ai.submiting&&ai.deferred[am]){return}af=ak.old;ak._r=ad;if(!ak.must&&aj.ret!==p&&af.rule===aj&&af.id===ae.id&&al&&af.value===al){ah=aj.ret}else{ah=(b(ae,ad)||ai.rules[ad]||Y).call(ai,ae,ag,ak)}if(P(ah)&&v(ah.then)){ai.deferred[am]=ah;!ai.checkOnly&&ai.showMsg(ae,{type:"loading",msg:ai.options.loadingMsg},ak);ah.then(function(ar,at,ao){var aq=ao.responseText,an,ap=ak.dataFilter||ai.options.dataFilter;if(!v(ap)){ap=function(au){if(m(au)||(P(au)&&("error" in au||"ok" in au))){return au}}}if(/jsonp?/.test(this.dataType)){aq=ar}else{if(a(aq).charAt(0)==="{"){aq=H.parseJSON(aq)||{}}}an=ap(aq);if(an===p){an=ap(aq.data)}af.rule=aj;aj.ret=an;ai._validatedRule(ae,ak,an)},function(an,ao){ai._validatedRule(ae,ak,ai.messages[ao]||ao)}).always(function(){delete ai.deferred[am]});ak.isValid=p}else{ai._validatedRule(ae,ak,ah)}},_validate:function(ad,af){if(ad.disabled||u(ad,o)!==null){return}var ae=this;if(!af){af=ae.getField(ad)}af.isValid=true;if(!af.rules){ae._parse(ad)}if(!af.rules){return}if(ae.options.debug){A.info(af.key)}if(!af.required&&!af.must&&!E(ad)){if(!C(ad)){ae._validatedField(ad,af,{isValid:true});return true}}ae._checkRule(ad,af);return af.isValid},test:function(ae,ah){var af=this,ad,ag=F.exec(ah),aj,ai;if(ag){aj=ag[1];if(aj in af.rules){ai=ag[2]||ag[3];ai=ai?ai.split(", "):p;ad=af.rules[aj].call(af,ae,ai)}}return ad===true||ad===p||ad===null},getRangeMsg:function(am,af,aj,an){if(!af){return}var ai=this,ae=ai.messages[aj]||"",ad=af[0].split("~"),al=ad[0],ak=ad[1],ah="rg",ag=[""],ao=+am===+am;if(ad.length===2){if(al&&ak){if(ao&&am>=+al&&am<=+ak){return true}ag=ag.concat(ad)}else{if(al&&!ak){if(ao&&am>=+al){return true}ag.push(al);ah="gte"}else{if(!al&&ak){if(ao&&am<=+ak){return true}ag.push(ak);ah="lte"}}}}else{if(am===+al){return true}ag.push(al);ah="eq"}if(ae){if(an&&ae[ah+an]){ah+=an}ag[0]=ae[ah]}return ai.renderMsg.apply(null,ag)},renderMsg:function(){var ae=arguments,ad=ae[0],af=ae.length;if(!ad){return}while(--af){ad=ad.replace("{"+af+"}",ae[af])}return ad},_getDisplay:function(ad,ae){return !m(ae)?v(ae)?ae.call(this,ad):"":ae},_getMsgOpt:function(ad){return H.extend({},this.msgOpt,m(ad)?{msg:ad}:ad)},_getMsgDOM:function(ag,ak){var ae=H(ag),ai,af,aj,ad;if(ae.is(":input")){aj=ak.target||u(ag,X);if(aj){aj=v(aj)?aj.call(this,ag):this.$el.find(aj);if(aj.length){if(aj.is(":input")){ag=aj.get(0)}else{ad=aj}}}if(!ai){af=!C(ag)&&ag.id?ag.id:ag.name;ai=this.$el.find(ak.wrapper+"."+f+'[for="'+af+'"]')}}else{ai=ae}if(!ai.length){ae=this.$el.find(aj||ag);ai=H("<"+ak.wrapper+">").attr({"class":f+(ak.cls?" "+ak.cls:""),"style":ak.style||"","for":af});if(C(ag)){var ah=ae.parent();ai.appendTo(ah.is("label")?ah.parent():ah)}else{if(ad){ai.appendTo(ad)}else{ai[!ak.pos||ak.pos==="right"?"insertAfter":"insertBefore"](ae)}}}return ai},showMsg:function(ae,aj,ak){if(!ae){return}var ai=this,ad=ai.options,ah,al,ag;if(ad.theme.indexOf("float")>=0){var af=ad.theme.replace("float-","");H(ae).floatRemove();H(ae).popFloat({targetMode:"remind",target:aj.msg,position:af,bindType:"click",bindCall:function(am){H(am).floatRemove()}});return}if(P(ae)&&!ae.jquery&&!aj){H.each(ae,function(am,ao){var an=ai.elements[am]||ai.$el.find(t(am))[0];ai.showMsg(an,ao)});return}aj=ai._getMsgOpt(aj);ae=H(ae).get(0);if(!aj.msg&&aj.type!=="error"){al=u(ae,"data-"+aj.type);if(al!==null){aj.msg=al}}if(!m(aj.msg)){return}if(H(ae).is(k)){ak=ak||ai.getField(ae);if(ak){aj.style=ak.msgStyle||aj.style;aj.cls=ak.msgClass||aj.cls;aj.wrapper=ak.msgWrapper||aj.wrapper;aj.target=ak.target||ad.target}}if(!(ah=(ak||{}).msgMaker||ad.msgMaker)){return}ag=ai._getMsgDOM(ae,aj);!g.test(ag[0].className)&&ag.addClass(aj.cls);if(l===6&&aj.pos==="bottom"){ag[0].style.marginTop=H(ae).outerHeight()+"px"}ag.html(ah.call(ai,aj))[0].style.display="";v(aj.show)&&aj.show.call(ai,ag,aj.type)},hideMsg:function(ae,ai,ah){var af=this,ad=af.options,ag;if(ad.theme.indexOf("float")>=0){H(ae).floatRemove();return}ae=H(ae).get(0);ai=af._getMsgOpt(ai);if(H(ae).is(k)){ah=ah||af.getField(ae);if(ah){if(ah.isValid||af.reseting){u(ae,w,null)}ai.wrapper=ah.msgWrapper||ai.wrapper;ai.target=ah.target||ad.target}}ag=af._getMsgDOM(ae,ai);if(!ag.length){return}if(v(ai.hide)){ai.hide.call(af,ag,ai.type)}else{ag[0].style.display="none";ag[0].innerHTML=null}},getField:function(ae){var af=this,ad;if(ae.id&&"#"+ae.id in af.fields||!ae.name){ad="#"+ae.id}else{ad=ae.name}if(u(ae,h)){af._parse(ae)}return af.fields[ad]},setField:function(ae,af){var ad={};if(m(ae)){ad[ae]=af}else{ad=ae}this._initFields(ad)},isFormValid:function(){var ad=this.fields,ae;for(ae in ad){if(!ad[ae].isValid){return ad[ae].isValid}}return true},holdSubmit:function(ad){this.submiting=ad===p||ad},cleanUp:function(){this._reset(1)},destroy:function(){this._reset(1);this.$el.off(B).removeData(M);u(this.$el[0],o,this._novalidate)
}};function Z(ag,ae){if(!P(ag)){return}var ad,af=ae?ae===true?this:ae:Z.prototype;for(ad in ag){if(J(ad)){af[ad]=y(ag[ad])}}}function U(ag,ae){if(!P(ag)){return}var ad,af=ae?ae===true?this:ae:U.prototype;for(ad in ag){af[ad]=ag[ad]}}function y(ad){switch(H.type(ad)){case"function":return ad;case"array":return function(ae){return ad[0].test(E(ae))||ad[1]||false};case"regexp":return function(ae){return ad.test(E(ae))}}}function O(ag){var af,ad,ae;if(!ag||!ag.tagName){return}switch(ag.tagName){case"INPUT":case"SELECT":case"TEXTAREA":case"BUTTON":case"FIELDSET":af=ag.form||H(ag).closest("."+R);break;case"FORM":af=ag;break;default:af=H(ag).closest("."+R)}for(ad in n){if(H(af).is(ad)){ae=n[ad];break}}return H(af).data(M)||H(af)[M](ae).data(M)}function aa(ag,af){var ad=af||ag.currentTarget,ae;if(!ad.form||u(ad.form,o)!==null){return}ae=O(ad);if(ae){ae._parse(ad);ae._focusin(ag);if(af){ae._focusout(ag,af)}}else{u(ad,h,null)}}function b(ae,af){var ad=a(u(ae,h+"-"+af));if(!ad){return}ad=(new Function("return "+ad))();if(ad){return y(ad)}}function q(ae,ag,ad){var ah=ag.msg,af=ag._r;if(P(ah)){ah=ah[af]}if(!m(ah)){ah=u(ae,s+"-"+af)||u(ae,s)||(ad?m(ad)?ad:ad[af]:"")}return ah}function z(ad){var ae;if(ad){ae=g.exec(ad)}return ae&&ae[1]}function C(ad){return ad.tagName==="INPUT"&&ad.type==="checkbox"||ad.type==="radio"}function e(ad){return Date.parse(ad.replace(/\.|\-/g,"/"))}function J(ad){return(/^[\w\d]+$/).test(ad)}function t(ad){return ad.charAt(0)==="#"?ad.replace(/(:|\.|\[|\])/g,"\\$1"):'[name="'+ad+'"]:input'}H(window).on("beforeunload",function(){this.focus()});H(document).on("focusin","["+h+"]:input",function(ad){aa(ad)}).on("click","input,button",function(ah){var ad=this,ae=ad.name,ag,af;if(!ad.form){return}if(ad.type==="submit"){j=ad;ag=ad.getAttributeNode("formnovalidate");if(ag&&ag.nodeValue!==null||u(ad,o)!==null){W=true}}else{if(u(ad.form,o)===null){if(ae&&C(ad)){af=ad.form.elements[ae];if(af.length){af=af[0]}if(u(af,h)){aa(ah,af)}}else{aa(ah)}}}}).on("submit validate","form",function(af){if(u(this,o)!==null){return}var ad=H(this),ae;if(!ad.data(M)){ae=O(this);if(!H.isEmptyObject(ae.fields)){ae._submit(af)}else{u(this,o,o);ad.off(B).removeData(M)}}});new Z({required:function(af,ae,ak){var ah=this,ad=a(E(af)),al=true;if(ae){if(ae.length===1){if(!J(ae[0])){if(!ad&&!H(ae[0],ah.$el).length){return null}}else{if(ah.rules[ae[0]]){if(!ad&&!ah.test(af,ae[0])){u(af,ab,null);return null}else{u(af,ab,true)}}}}else{if(ae[0]==="not"){H.each(ae.slice(1),function(){return(al=ad!==a(this))})}else{if(ae[0]==="from"){var ai=ah.$el.find(ae[1]),aj="validated_rule",ag;al=ai.filter(function(){return !!a(E(this))}).length>=(ae[2]||1);if(al){if(!ad){ag=null}}else{ag=q(ai[0],ak)||false}if(!H(af).data(aj)){ai.data(aj,true).each(function(){if(af!==this){ah._checkRule(this,ah.getField(this))}}).removeData(aj)}return ag}}}}return al&&!!ad},integer:function(ae,ai){var af,ah="0|",ag="[1-9]\\d*",ad=ai?ai[0]:"*";switch(ad){case"+":af=ag;break;case"-":af="-"+ag;break;case"+0":af=ah+ag;break;case"-0":af=ah+"-"+ag;break;default:af=ah+"-?"+ag}af="^(?:"+af+")$";return new RegExp(af).test(E(ae))||this.messages.integer[ad]},match:function(ah,ag,am){if(!ag){return}var ak=this,an,al,ao,ae,aj="eq",ad,ai,ap,af;if(ag.length===1){ao=ag[0]}else{aj=ag[0];ao=ag[1]}ai=t(ao);ap=ak.$el.find(ai)[0];if(!ap){return}af=ak.getField(ap);an=E(ah);al=E(ap);if(!am._match){ak.$el.on("valid"+I+B,ai,function(){H(ah).trigger("validate")});am._match=af._match=1}if(!am.required&&an===""&&al===""){return null}ad=ag[2];if(ad){if(/^date(time)?$/i.test(ad)){an=e(an);al=e(al)}else{if(ad==="time"){an=+an.replace(/:/g,"");al=+al.replace(/:/g,"")}}}if(aj!=="eq"&&!isNaN(+an)&&isNaN(+al)){return true}ae=ak.messages.match[aj].replace("{1}",ak._getDisplay(ah,af.display||ao));switch(aj){case"lt":return(+an<+al)||ae;case"lte":return(+an<=+al)||ae;case"gte":return(+an>=+al)||ae;case"gt":return(+an>+al)||ae;case"neq":return(an!==al)||ae;default:return(an===al)||ae}},range:function(ad,ae){return this.getRangeMsg(+E(ad),ae,"range")},checked:function(ad,ai,ah){if(!C(ad)){return}var ag=this,af,ae;ae=ag.$el.find('input[name="'+ad.name+'"]').filter(function(){var aj=this;if(!af&&C(aj)){af=aj}return !aj.disabled&&aj.checked}).length;if(ai){return ag.getRangeMsg(ae,ai,"checked")}else{return !!ae||q(af,ah,"")||ag.messages.required}},length:function(ae,ag){var af=E(ae),ad=(ag[1]?af.replace(d,"xx"):af).length;return this.getRangeMsg(ad,ag,"length",(ag[1]?"_2":""))},remote:function(af,ai){if(!ai){return}var ag=this,ad=ac.exec(ai[0]),ah={},aj="",ae;ah[af.name]=E(af);if(ai[1]){H.map(ai.slice(1),function(al){var ak,am;if(~al.indexOf("=")){aj+="&"+al}else{ak=al.split(":");al=a(ak[0]);am=a(ak[1])||al;ah[al]=ag.$el.find(t(am)).val()}})}if(/^https?:/.test(ad[2])&&!~ad[2].indexOf(location.host)){ae="jsonp"}return H.ajax({url:ad[2],type:ad[1]||"POST",data:H.param(ah)+aj,dataType:ae,cache:false})},filter:function(ad,ae){ad.value=E(ad).replace(ae?(new RegExp("["+ae[0]+"]","gm")):N,"")}});r.config=function(ad){H.each(ad,function(ae,af){if(ae==="rules"){new Z(af)
}else{if(ae==="messages"){new U(af)}else{K[ae]=af}}})};r.setTheme=function(ad,ae){if(P(ad)){H.each(ad,function(af,ag){c[af]=ag})}else{if(m(ad)&&P(ae)){c[ad]=ae}}};H[M]=r;(function(ag){var ae,ak,ah,aj,af,ai,ad=document.getElementsByTagName("script");if(ag){ak=ad[0];ae=ag.match(/(.*)\/local\/(\w{2,5})\.js/)}else{ah=ad.length;aj=/(.*validator.js)\?.*local=(\w+)/;while(ah--&&!ae){ak=ad[ah];ae=(ak.hasAttribute?ak.src:ak.getAttribute("src",4)||"").match(aj)}}if(ae){af=ae[0].split("/").slice(0,-1).join("/").replace(/\/(local|src)$/,"")+"/";ai=document.createElement("link");ai.rel="stylesheet";ai.href=af+"jquery.validator.css";ak.parentNode.insertBefore(ai,ak);if(!ag){ai=document.createElement("script");ai.src=af+"local/"+ae[2].replace("-","_")+".js";ak.parentNode.insertBefore(ai,ak)}}})(H._VALIDATOR_URI)}));